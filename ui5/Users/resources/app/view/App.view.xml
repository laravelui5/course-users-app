<mvc:View
    controllerName="io.pragmatiqu.users.controller.App"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
>
    <SplitApp id="app">
        <masterPages>
            <Page title="Users">
                <subHeader>
                    <Toolbar>
                        <SearchField
                            width="100%"
                            placeholder="Search users..."
                            liveChange=".onSearch"
                        />
                    </Toolbar>
                </subHeader>
                <content>
                    <List
                        id="usersList"
                        items="{/Users}"
                        mode="SingleSelectMaster"
                        selectionChange=".onUserSelect"
                    >
                        <StandardListItem
                            title="{name}"
                            description="{email}"
                        />
                    </List>
                </content>
            </Page>
        </masterPages>
        <detailPages>
            <Page id="welcome" title="{i18n>appTitle}">
                <content>
                    <IllustratedMessage
                        description="You've successfully setup your LaravelUi5 App"
                        enableVerticalResponsiveness="true"
                        illustrationType="sapIllus-Achievement"
                    />
                </content>
            </Page>
            <Page
                id="detailPage"
                title="User Details"
            >
                <customHeader>
                    <Bar>
                        <contentLeft>
                            <Title text="{name}"/>
                        </contentLeft>
                        <contentRight>
                            <core:Icon src="sap-icon://locked" visible="{locked}"/>
                            <core:Icon src="sap-icon://unlocked" visible="{= !${locked}}"/>
                        </contentRight>
                    </Bar>
                </customHeader>
                <content>
                    <VBox class="sapUiSmallMargin">
                        <Text text="{email}"/>
                        <Text text="{created_at}"/>
                        <Button
                            text="Toggle Lock"
                            press=".onToggleLock"
                            class="sapUiSmallMarginTop"
                        />
                    </VBox>
                </content>
            </Page>
        </detailPages>
    </SplitApp>
</mvc:View>
